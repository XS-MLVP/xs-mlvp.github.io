<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4Z2ZY6ZE84"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4Z2ZY6ZE84")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?6aacb1c7ca0a3ef4e3aa84c1eaa237dd",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/my_style.css><title>UnityChip Verification | Beginner's Introductory Task</title>
<meta name=description content="The beginner&rsquo;s task for the UnityChip event is to understand the entire process of verification using the UnityChip-based framework and tools."></head><body style=width:100%;max-width:100%;margin:0;padding:0><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container><a class=navbar-brand href=https://open-verify.cc/en><b style=font-weight:800>Home</b>
</a><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/en/crowdsourcing/>Verification Tasks</a></li><li class=nav-item><a class=nav-link href=/en/learningresource/>Learning Resources</a></li><li class=nav-item><a class=nav-link href=/en/about/>About Us</a></li><li class=nav-item><a class=nav-link href=https://open-verify.cc/crowdsourcing/green_hand/>ä¸­æ–‡</a></li><li class="nav-item px-2 pt-1"><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">Beginner's Introductory Task</h1></div><p class="text-center fs-4 fst-italic serif">The beginner&rsquo;s task for the UnityChip event is to understand the entire process of verification using the UnityChip-based framework and tools.</p><div class="text-center pt-4"></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Jan 2, 2025 -
Last updated: Jan 2, 2025</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4><span class=status>Seeding ðŸŒ±</span></div><div class=col-sm-8 style=text-align:right></div></div></div></div><div class="container-fluid py-2"><div class="serif main-content"><p>In this beginner&rsquo;s task, you will:</p><p>â€”â€”Gain a basic understanding and usage of the &ldquo;UnityChip&rdquo; verification tools.</p><p>â€”â€”Understand the fundamental knowledge of the entire hardware verification process.</p><p>â€”â€”Learn about environment setup and test case development based on the UnityChip framework.</p><p>â€”â€”Participate in hands-on practice: personally experience verifying the Xiangshan BPU module.</p><h2 id=learning-task-1-basic-concepts-and-tool-usage>Learning Task 1: Basic Concepts and Tool Usage</h2><p>In this mission, you will establish a worldview and fundamental understanding of hardware verification through the study of basic verification theories, enabling you to better participate in the verification activities of UnityChip.</p><p>At the same time, you will learn the basic usage of the powerful tool, picker, provided by UnityChip. This tool supports the conversion of DUT in hardware language into commonly used software languages and exposes basic calling methods, thereby making pure software language verification possible.</p><h3 id=basic-concepts>Basic Concepts</h3><p>For those participating in the &ldquo;One Chip for All&rdquo; open verification activity, some of you may have certain hardware verification experience, some may only have software testing experience, or some may simply be interested in the open-source verification of Xiangshan. Therefore, you might have some questions, such as:</p><p>Why is hardware verification necessary?</p><p>Why can Xiangshan conduct open-source hardware verification?</p><p>What are the differences between hardware verification and software verification?</p><p>â€¦â€¦</p><p>In this section, you will begin to learn about the foundational theories of hardware verification, including the background of chip verification, basic knowledge of digital circuits, and the processes of hardware verification. This will help you establish a worldview of hardware verification, enabling you to better understand the purpose and importance of the &ldquo;UnityChip&rdquo; initiative.</p><p>The learning tasks in this section are divided into the following parts:</p><p><strong>Basic Knowledge of Chip Verification</strong>: Understand the concepts, processes, metrics, management methods, current status of chip verification, and the feasibility basis for sub-package verification of the &ldquo;UnityChip&rdquo; project, etc. (<a href=/mlvp/docs/basic/ic_verify/ target=_blank>Tutorial Link</a>).</p><p><strong>Digital Circuits</strong>: Understand the basic concepts of digital circuits, the necessity of studying digital circuits, commonly used hardware description languages, etc. (<a href=/mlvp/docs/basic/ic_base/ target=_blank>Tutorial Link</a>).</p><p><strong>Creating DUT</strong>: Understand the concept of DUT, methods for converting Chisel to Verilog, and ways to compile Verilog, etc. (<a href=/mlvp/docs/basic/create_dut/ target=_blank>Tutorial Link</a>).</p><p><strong>DUT Verification</strong>: Understand the steps of DUT verification and complete a simple exampleâ€”verification of the Guoke Cache. (Tutorial link: <a href=/mlvp/docs/basic/test_dut/ target=_blank>Tutorial Link</a>). You can skip the content related to the picker tool for now and learn it later.</p><p><strong>Verification Report</strong>: Understand the content of writing a verification report (<a href=/mlvp/docs/basic/report/ target=_blank>Tutorial Link</a>).</p><h3 id=basic-tools>Basic Tools</h3><p>As the saying goes, &ldquo;To do a good job, one must first sharpen their tools.&rdquo; Considering the entry barriers in hardware verification, Wanzhong Yixin has prepared a tool called Pickerâ€”a tool that converts DUT written in hardware language into DUT written in software languageâ€”along with related tutorials, as shown below:</p><p><strong>Introduction to Picker</strong>: Learn the principles of Picker, methods for converting the module under test into a Python module using Picker, basic data structure definitions, etc. (<a href=/mlvp/docs/env_usage/picker_usage/ target=_blank>Tutorial Link</a>).</p><p><strong>Waveform Generation</strong>: Learn the methods for generating waveforms and post-processing using Picker. If possible, you can check the generated waveform diagrams in this section (<a href=/mlvp/docs/env_usage/wave/ target=_blank>Tutorial Link</a>).</p><p><strong>Multi-File Input</strong>: Learn how to use Picker to handle scenarios with multiple file inputs, enabling the conversion of modules with multiple dependencies (<a href=/mlvp/docs/env_usage/multifile/ target=_blank>Tutorial Link</a>).</p><p><strong>Coverage Statistics</strong>: Understand how to use Picker to generate test coverage based on Verilator simulation (<a href=/mlvp/docs/env_usage/coverage/ target=_blank>Tutorial Link</a>).</p><p><strong>Test Framework Integration</strong>: Learn how to integrate picker with existing test frameworks (including pytest and hypothesis) (<a href=/mlvp/docs/env_usage/frameworks/ target=_blank>Tutorial Link</a>).</p><h2 id=learning-task-2-verification-environment-and-dut-encapsulation>Learning Task 2: Verification Environment and DUT Encapsulation</h2><p>In addition to directly manipulating the DUT for verification, UnityChip also provides a pytest-based verification framework called toffee. Following the learning arrangement of this task, you will first understand the general environment configuration methods and complete test cases using conventional methods, including an adder, a random number generator, and a dual-port stack tested in two ways. After that, the course will introduce how to install the toffee framework and the process of building a verification environment based on the toffee framework.</p><h3 id=case-demonstration>Case Demonstration</h3><p>To further demonstrate the method of verifying hardware using software languages, this section will present four simple cases, including an adder, a random number generator, and a dual-port stack as DUTs. For the dual-port stack, both coroutine and callback verification methods will be demonstrated.</p><p><strong>Environment Preparation</strong>: To perform verification, it is necessary to first configure picker support in the environment. For specific instructions, please refer to <a href=/mlvp/docs/quick-start/installer/ target=_blank>this tutorial</a>.</p><p><strong>Adder</strong>: This case presents a minimal adder and will use Picker to test it, thereby fully demonstrating the process of module verification using Picker. Click <a href=/mlvp/docs/quick-start/eg-adder/ target=_blank>here</a> to read the complete tutorial.</p><p><strong>Random Number Generator</strong>: The previous adder case was a simple combinational logic circuit. Next, the course will demonstrate how to use Picker to verify a sequential logic circuit through the validation of the random number generator case. Click <a href=/mlvp/docs/quick-start/eg-rmg/ target=_blank>here</a> to read the complete tutorial.</p><p><strong>Callback-Based Dual-Port Stack Verification</strong>: The previous two cases were small in scale and linear, not involving concurrency issues. However, the course will now present a concurrent case: the dual-port stack, and provide two verification methods: callback functions and coroutines. The callback-based verification method drives the DUT by registering callback functions and simulating a state machine. However, this callback-driven approach splits the DUT&rsquo;s logic into multiple states and function calls, significantly increasing complexity and imposing requirements on code writing and debugging. Click <a href=/mlvp/docs/quick-start/eg-stack-callback/ target=_blank>here</a> to read the complete tutorial.</p><p><strong>Coroutine-Based Dual-Port Stack Verification</strong>: In addition to the callback function method, the dual-port stack can also be verified using coroutines, which better preserves independent execution flows. However, synchronization and management between coroutines can present significant challenges. This is one of the reasons behind the development of the Toffee testing framework by WanZhongYiXin. Click <a href=/mlvp/docs/quick-start/eg-stack-async/ target=_blank>here</a> to read the complete tutorial on dual-port stack coroutine verification.</p><h3 id=toffee-tool-installation>Toffee Tool Installation</h3><p>Next, the course will introduce the testing framework developed by WanZhongYiXin for the Python language: Toffee (along with the accompanying Toffee-Test). This framework is built on the DUT packaged by Picker, further encapsulating data responsibilities and functional responsibilities, while also encapsulating complex hardware cycle logic, greatly simplifying the code writing for developers.</p><p>To use this tool, you first need to configure Toffee. The installation of Toffee depends on Python version 3.6.8 or higher and Picker version 0.9.0 or higher. After configuring the dependencies, you can install Toffee locally using pip or by downloading it directly from the Git repository. For detailed installation instructions, please refer to <a href=/mlvp/docs/mlvp/quick-start/ target=_blank>here</a>.</p><h3 id=standard-verification-environment>Standard Verification Environment</h3><p>One of the core purposes of toffee is to standardize the verification environment. Therefore, toffee focuses on the reusability of test cases by encapsulating the data responsibilities of the DUT into Bundles. Similarly, with reusability in mind, Toffee splits the behavioral responsibilities of the DUT into multiple Agents. Lastly, to facilitate better result comparison, toffee provides a reference model mechanism that allows the framework to use the tester&rsquo;s reference model code for verification. For detailed specifications of the verification environment and toffee&rsquo;s design philosophy, please refer to <a href=/mlvp/docs/mlvp/canonical_env/ target=_blank>this document</a>.</p><h3 id=building-verification-code-using-the-toffee-framework>Building Verification Code Using the Toffee Framework</h3><p>This section will present an example demonstrating how to use Toffee to set up a testing environment for a complex DUT, supporting the creation of an environment that encapsulates both data responsibilities and behavioral responsibilities, while asynchronously testing a DUT.</p><p>The following is a brief overview of the <a href=/mlvp/docs/mlvp/env/ target=_blank>tutorial</a> outlining the steps for setting up the environment.</p><p>1. Toffee incorporates Python&rsquo;s coroutine mechanism to build an asynchronous environment, so it&rsquo;s important to have a basic understanding of Toffee&rsquo;s asynchronous and clock mechanisms. Please read <a href=/mlvp/docs/mlvp/env/start_test target=_blank>this tutorial</a> to establish the fundamental concepts.</p><p>2. Toffee aims to encapsulate the data responsibilities of the DUT to enhance the reusability of test cases, leading to the development of the Bundle mechanism. Please read <a href=/mlvp/docs/mlvp/env/bundle target=_blank>this tutorial</a> to learn how to write Bundles.</p><p>3. Toffee has achieved a high-level encapsulation of signal processing logic within a class of Bundles, allowing the upper layers to drive and monitor signals in the Bundle without worrying about the specific signal assignments. This is known as an Agent. Please read <a href=/mlvp/docs/mlvp/env/agent target=_blank>this tutorial</a> to understand how to write Agents.</p><p>4. Toffee further provides support for packaging the entire verification environment to instantiate the Agents defined in the previous step. This is accomplished by the Env. Please read <a href=/mlvp/docs/mlvp/env/build_env target=_blank>this tutorial</a> to learn more about the related content.</p><p>5. When the output is not clearly defined, testers need to write reference models. The toffee framework provides two ways to implement reference models: function call and independent execution flow. Both types of reference models can validate the execution results during the process. Please read <a href=/mlvp/docs/mlvp/env/ref_model target=_blank>this tutorial</a> to learn how to write reference models.</p><h2 id=learning-task-3-writing-test-cases>Learning Task 3: Writing Test Cases</h2><p>Once the environment is set up, you can start writing test cases. In this learning task, the course aims for you to understand the following concepts:</p><p><strong>Driving with Test Environment Interfaces</strong>: If there is only one driving function, you can call it directly. However, what if there are multiple driving functions? Toffee provides an asynchronous executor to make it easier for users to call multiple driving methods. Please read <a href=/mlvp/docs/mlvp/cases/executor/ target=_blank>this tutorial</a> for more details.</p><p><strong>Managing Test Cases with pytest</strong>: Toffee uses pytest to effectively manage test cases and test suites. You can learn more about this in <a href=/mlvp/docs/mlvp/cases/pytest/ target=_blank>this tutorial</a>.</p><p><strong>Functional Checkpoints</strong>: How can you determine the quality of a test? <strong>Test coverage</strong> is a commonly used metric for evaluating test quality. Among these, line coverage can be analyzed automatically, but functional coverage requires manually adding checkpoints for assessment. Therefore, Toffee provides a set of checkpoint mechanisms. Please read <a href=/mlvp/docs/mlvp/cases/cov/ target=_blank>this tutorial</a> to learn more.</p><h2 id=learning-task-4-bpu-practice>Learning Task 4: BPU Practice</h2><p>After learning the aforementioned concepts, you should have a certain understanding of hardware verification methods. Now, letâ€™s put it into practice! Please select at least one submodule of the validated Xiangshan BPU for verification. Write the verification code and a test report, and submit the verification report and code in the <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/discussions/13 target=_blank>GitHub discussion section</a> for UnityChipForXiangShan. The report should include functional analysis, breakdown of test points, test case development, analysis of verification results, and verification conclusions.</p><p>You can refer to the format of the <a href=https://github.com/XS-MLVP/Example-NutShellCache/blob/master/nutshell_cache_report_demo.pdf target=_blank>NutShell Cache verification case</a> to complete your validation report.</p><h2 id=other-considerations>Other Considerations</h2><p>When you participate in any activities organized by &ldquo;One Chip for All,&rdquo; you can earn a reward of around 1,000 yuan for identifying bugs in the Xiangshan processor, depending on the nature of the bugs.</p><h2 id=registration-link>Registration Link</h2><p><a href=https://www.wjx.top/vm/wAGPNJ8.aspx>Click here</a> to fill out the application form. After submission, join the QQ group (Group ID: <b>1033196714</b>) to contact us.</p></div></div></div></div><div class=container><div class="row justify-content-between"><div class=col-sm-4><p class=footer>MLVP Group Â© 2025</p></div><div class="col-sm-6 d-flex flex-row-reverse"><a class="footer-social px-2" href=# target=_blank><i class="fab fa-weixin"></i></a>
<a class="footer-social px-2" href=# target=_blank><i class="fab fa-weibo"></i></a></div></div></div><script src=/js/bootstrap.min.js></script><script src=/js/jquery.min.js></script><script src=/js/isotope.pkgd.min.js></script><script src=/js/masonry.pkgd.min.js async></script><script src=/js/dark.js></script><script>var savedTheme=localStorage.getItem("dark-mode-storage")||"light";setTheme(savedTheme)</script><script src=/js/isotope.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></body></html>