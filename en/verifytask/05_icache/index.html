<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4Z2ZY6ZE84"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4Z2ZY6ZE84")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?6aacb1c7ca0a3ef4e3aa84c1eaa237dd",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/my_style.css><title>UnityChip Verification | UT Practical Session Phase 6: Third Generation Xiangshan (Kunming Lake) Architecture ICache Module UT Verification (Ongoing)</title>
<meta name=description content="Learning Xiangshan ICache Microarchitecture Design Through Verification"></head><body style=width:100%;max-width:100%;margin:0;padding:0><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class="d-flex justify-content-between align-items-center" style=width:100%><div class="d-flex align-items-center"><a class="navbar-brand navbar-brand-content" href=https://open-verify.cc/en><img src=/images/logo.png></a><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/en/registration_portal/>Registration entrance summary</a></li><li class=nav-item><a class=nav-link href=/en/learningresource/>Learning Resources</a></li><li class=nav-item><a class=nav-link href=/en/about/>About Us</a></li></ul></div></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" style=flex:1><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=https://open-verify.cc/verifytask/05_icache/>中文</a></li><li class=nav-item><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">UT Practical Session Phase 6: Third Generation Xiangshan (Kunming Lake) Architecture ICache Module UT Verification (Ongoing)</h1></div><p class="text-center fs-4 fst-italic serif">Learning Xiangshan ICache Microarchitecture Design Through Verification</p><div class="text-center pt-4"></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Apr 1, 2025 -
Last updated: Apr 1, 2025</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4></div><div class=col-sm-8 style=text-align:right></div></div></div></div><div class="container-fluid py-2 content"><div class="serif main-content"><p>In this verification task, participants will explore the ICache module of the Xiangshan Kunming Lake architecture. Through hands-on verification, you will gain insights into the design ideas of Xiangshan&rsquo;s instruction cache module and deepen your understanding of the RISC-V instruction set architecture. We welcome you to sign up for this task (registration questionnaire <a href=https://www.wjx.top/vm/e1nEX25.aspx>here</a>, QQ group: <strong>600480230</strong>).</p><p>ICache (Instruction Cache) is responsible for handling fetch and prefetch requests from the FTQ, obtaining physical addresses from the ITLB, and fetching instruction data via Tilelink. It then sends the instruction data or exception data to the IFU.</p><p>This task includes six subtasks and covers seven submodules of the ICache (IPrefetchPipe, MainPipe, WayLookup, FIFO, MissUnit, CtrlUnit, and ICache). All tasks will be assigned through <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues target=_blank>issue of UnityChipForXiangShan</a>.</p><h2 id=participation>Participation</h2><div><center><img src=/crowdsourcing/activity_process.png alt="Task Process" style=zoom:26%><br>Task Process</center></div><p>The above outlines the task participation process. Based on the difficulty and quality of your completed tasks, you will receive monetary rewards (this session&rsquo;s prize pool is 7,000). Your efforts will be rewarded. Additionally, if you identify a bug during verification and confirm it with us, you will receive an extra bonus 💴 based on the bug&rsquo;s severity.</p><p>Please fill out the <a href=https://www.wjx.top/vm/e1nEX25.aspx>registration questionnaire</a> to participate in this task. You are also welcome to join the official QQ group: <strong>600480230</strong>.</p><p>This verification task should be completed based on the <a href=https://github.com/XS-MLVP/UnityChipForXiangShan target=_blank>UnityChipForXiangShan verification framework</a>, and a PR should be submitted to the repository.</p><h2 id=task-details>Task Details</h2><p>Task difficulty is determined based on factors such as comprehensive difficulty and workload. Generally, tasks with difficulty levels of 1–3 are simple, 4–7 are moderate (either due to workload or hidden information requiring time to understand), and 8–10 are challenging, often involving both high workload and comprehensive difficulty.</p><p>Below are the details of each subtask for this session:</p><h3 id=task-1-iprefetchpipe-submodule>Task 1: IPrefetchPipe Submodule</h3><p>The IPrefetchPipe submodule is responsible for filtering prefetch requests.<br>It receives prefetch requests from the FTQ, performs address translation and PMP checks via the ITLB, queries the MetaArray for metadata (e.g., hit way, ECC checksum, exceptions), and stores the metadata in WayLookup. If the request misses, it sends the request to the MissUnit for prefetching.</p><p>Expected task difficulty: 7/10</p><p>Reference documentation: <a href=https://open-verify.cc/UnityChipForXiangShan/docs/98_ut/01_frontend/04_icache/01_iprefetchpipe/ target=_blank>IPrefetchPipe Functionality</a></p><p>Issue link: <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues/112>IPrefetchPipe issue</a></p><h3 id=task-2-mainpipe-submodule>Task 2: MainPipe Submodule</h3><p>MainPipe is the main pipeline of the ICache, designed as a three-stage pipeline. It is responsible for reading data from the DataArray, performing PMP checks, handling misses, and returning results to the IFU.</p><p>Expected task difficulty: 7/10</p><p>Reference documentation: <a href=https://open-verify.cc/UnityChipForXiangShan/docs/98_ut/01_frontend/04_icache/02_mainpipe/ target=_blank>MainPipe Functionality</a></p><p>Issue link: <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues/113>MainPipe issue</a></p><h3 id=task-3-waylookup-module>Task 3: WayLookup Module</h3><p>WayLookup is implemented as a FIFO circular queue. It temporarily stores metadata obtained from the MetaArray and ITLB by the IPrefetchPipe for use by the MainPipe. It also monitors MSHR writes to the SRAM cacheline and updates hit information.</p><p>Expected task difficulty: 5/10</p><p>Reference documentation: <a href=https://open-verify.cc/UnityChipForXiangShan/docs/98_ut/01_frontend/04_icache/03_waylookup/ target=_blank>WayLookup Functionality</a></p><p>Issue link: <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues/114>WayLookup issue</a></p><h3 id=task-4-fifo-and-missunit-submodules>Task 4: FIFO and MissUnit Submodules</h3><p>FIFO is a circular queue.<br>MissUnit manages miss requests and MSHR, communicates with the L2 cache via the TileLink protocol, sends requests to fetch cache blocks (<code>mem_acquire</code>), and receives responses from the L2 cache (<code>mem_grant</code>). It also handles special cases (e.g., flush, fencei, data corruption).</p><p>Expected task difficulty: 6/10</p><p>Reference documentation: <a href=https://open-verify.cc/UnityChipForXiangShan/docs/98_ut/01_frontend/04_icache/04_missunit/ target=_blank>MissUnit Functionality</a></p><p>Issue link: <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues/115>MissUnit issue</a></p><h3 id=task-5-ctrlunit-submodule>Task 5: CtrlUnit Submodule</h3><p>The CtrlUnit currently handles ECC checksum enablement/error injection and other functionalities.</p><p>Expected task difficulty: 5/10</p><p>Reference documentation: <a href=https://open-verify.cc/UnityChipForXiangShan/docs/98_ut/01_frontend/04_icache/05_ctrlunit/ target=_blank>CtrlUnit Functionality</a></p><p>Issue link: <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues/116>CtrlUnit issue</a></p><h3 id=task-6-icache-top-level-module>Task 6: ICache Top-Level Module</h3><p>The ICache top-level module handles prefetching, fetching requests, updating the replacer, reading/writing the MetaArray and DataArray, and handling exceptions.</p><p>Expected task difficulty: 8/10</p><p>Reference documentation: <a href=https://open-verify.cc/UnityChipForXiangShan/docs/98_ut/01_frontend/04_icache/06_icache/ target=_blank>ICache Top-level Functionality</a></p><p>Issue link: <a href=https://github.com/XS-MLVP/UnityChipForXiangShan/issues/117>ICacheTop issue</a></p><h2 id=deliverable-requirements>Deliverable Requirements</h2><p>This verification task should be completed based on the UnityChipForXiangShan verification framework, and a PR should be submitted to the repository. Each subtask requires the following deliverables:</p><ol><li><p><strong>Verification Environment + API</strong>: The verification environment and API are code deliverables that encapsulate the data responsibilities (pins) and behavioral responsibilities (logic) of the DUT. They should provide reusable interfaces, test suites, and definitions for test coverage. Refer to the <a href=https://open-verify.cc/UnityChipForXiangShan/docs/03_add_test/02_build_env/ target=_blank>Verification Environment Setup Guide</a> and the test coverage documentation ：<a href=https://open-verify.cc/UnityChipForXiangShan/docs/03_add_test/04_cover_line/ target=_blank>Line Coverage</a>、<a href=https://open-verify.cc/UnityChipForXiangShan/docs/03_add_test/05_cover_func/ target=_blank>Functional Coverage</a>.</p></li><li><p><strong>Test Cases</strong>: Test cases are code deliverables that define input combinations for testing and their expected outputs. Refer to the <a href=https://open-verify.cc/UnityChipForXiangShan/docs/03_add_test/03_add_test/ target=_blank>Test Case Guide</a></p></li><li><p><strong>Verification Report</strong>: The verification report is a written deliverable that includes an introduction to the environment, test points, and test cases, as well as the environment and commands required to reproduce the code. It should also include metrics such as test coverage. Refer to the <a href=https://open-verify.cc/mlvp/docs/basic/report/ target=_blank>Verification Report Guide</a>.</p></li></ol><p><a href=https://github.com/XS-MLVP/UnityChipForXiangShan target=_blank>The UnityChipForXiangShan verification framework</a> provides a preliminary environment for this task, but participants may also set up their own verification environment and refine APIs.</p><h2 id=bug-reporting>Bug Reporting</h2><p>Please use the bug report template to file an issue in the UnityChipForXiangShan repository or click <a href="https://github.com/XS-MLVP/UnityChipForXiangShan/issues/new?assignees=&amp;labels=&amp;projects=&amp;template=bug_report.md&amp;title=%5BBUG%5D+">here</a>.</p><p>When submitting a bug, first select the <code>bug need to confirm</code> label. Then choose one of the four bug severity labels (<code>minor</code>, <code>normal</code>, <code>serious</code>, or <code>critical</code>) that best matches your issue. Finally, select the module where you found the bug. For this verification task focusing on the ICache module, please uniformly apply the <code>ut_frontend.icache</code> label.</p></div></div></div></div><script src=/js/bootstrap.min.js></script><script src=/js/jquery.min.js></script><script src=/js/isotope.pkgd.min.js></script><script src=/js/masonry.pkgd.min.js async></script><script src=/js/dark.js></script><script>var savedTheme=localStorage.getItem("dark-mode-storage")||"light";setTheme(savedTheme)</script><script src=/js/isotope.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></body></html>