<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4Z2ZY6ZE84"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4Z2ZY6ZE84")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?6aacb1c7ca0a3ef4e3aa84c1eaa237dd",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/my_style.css><title>万众一芯开放验证 | 学习任务1: Picker 部分</title>
<meta name=description content="熟悉 Picker 的基本用法"></head><body style=width:100%;max-width:100%;margin:0;padding:0><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class="d-flex justify-content-between align-items-center" style=width:100%><div class="d-flex align-items-center"><a class="navbar-brand navbar-brand-content" href=https://open-verify.cc/cn><img src=/images/logo.png></a><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/registration_portal/>报名入口汇总</a></li><li class=nav-item><a class=nav-link href=/learningresource/>学习资源</a></li><li class=nav-item><a class=nav-link href=/about/>关于我们</a></li></ul></div></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" style=flex:1><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">学习任务1: Picker 部分</h1></div><p class="text-center fs-4 fst-italic serif">熟悉 Picker 的基本用法</p><div class="text-center pt-4"></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Jul 22, 2025 -
Last updated: Jul 22, 2025</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4></div><div class=col-sm-8 style=text-align:right></div></div></div></div><div class="container-fluid py-2 content"><div class="serif main-content"><p>验证对象的代码和文档位于：<a href=../sync_fifo>同步 FIFO 的设计规范和代码</a>。</p><h2 id=准备工作>准备工作</h2><ol><li>创建项目目录结构：</li></ol><pre tabindex=0><code>fifo_test/
├── rtl/        # 放置FIFO的RTL代码
└── test_smoke.py  # 测试用例文件
</code></pre><ul><li>把同步 FIFO 的代码放在该 rtl 下，命名为<code>SyncFIFO.v</code>。</li></ul><h2 id=1-dut-类的创建和初始化>1. DUT 类的创建和初始化</h2><ol><li><p>创建同步 FIFO 的 DUT 类</p></li><li><p>创建<code>test_reset_dut</code>函数作为的测试用例：把<code>rst_n</code>信号拉低 5 个周期后，再拉高 2 个周期，导出波形信号</p></li><li><p>查看波形，关注：reset 信号是在什么时候生效的，即寄存器值变化为 0 是在什么时候，是 reset 信号一拉高就立马生效的吗？如果不是，又需要满足哪些要求呢，此时时钟信号是在什么状态，这在代码中又是是如何体现的？希望能够通过这个最简单的示例，让零基础的同学对<strong>如何查看波形图</strong>建立一个良好的开端认识。</p></li><li><p><code>把rst_n</code>的写模式修改为立即模式<code>Imme</code>，再和默认情况下的波形做一个比对</p></li><li><p>思考：在对模块进行初始化时，仅仅是对<code>rst_n</code>进行赋值就足够了吗？还需要注意什么？</p><ul><li><p>可以阅读以下材料帮助你思考：</p></li><li><blockquote><blockquote><p>(4.1 Value set) Verilog HDL 的数值集合包含四种基本值：</p><ul><li><code>0</code>：表示逻辑零或假条件</li><li><code>1</code>：表示逻辑一或真条件</li><li><code>x</code>：表示<strong>未知逻辑值</strong></li><li><code>z</code>：表示<strong>高阻态</strong></li></ul></blockquote><blockquote><p>(4.2.1 Net declarations) <code>wire</code> 类型的初始值为 <code>z</code></p></blockquote><blockquote><p>(4.2.2 Variable declarations) <code>reg</code> 类型的初始值为 <code>x</code></p></blockquote><p>—— 来自<a href=https://ieeexplore.ieee.org/document/1620780>IEEE Std 1364-2005, IEEE Standard for Verilog® Hardware Description Language</a></p></blockquote></li><li><blockquote><blockquote><p>Verilator 本质上是一个二态仿真器，所以对于 <code>x</code> 和 <code>z</code> 值会分配一个具体的常量值，可以是随机数也可以只固定值，具体取决于<a href=https://veripool.org/guide/latest/exe_verilator.html#cmdoption-9>相关选项</a>的控制。</p></blockquote><p>—— 来自 Verilator 文档的 <a href=https://veripool.org/guide/latest/languages.html#unknown-states>Unknown States</a> 部分</p></blockquote></li></ul></li></ol><h2 id=2-编写复位测试>2. 编写复位测试</h2><p>在测试用例<code>test_reset_dut</code>的基础上，测试完成复位后，用<code>assert</code>判断 FIFO 的输出、读写指针是否为 0</p><h2 id=3-编写冒烟测试>3. 编写冒烟测试</h2><blockquote><p>冒烟测试是验证流程中的第一道防线，用于快速确认系统的基本功能是否正常工作。</p><p>这一术语源自硬件行业：当新硬件首次通电时，如果没有冒烟，则初步通过测试。</p><p>在芯片验证中，冒烟测试能够在开发早期发现严重问题，节省大量调试时间。</p></blockquote><p>添加测试用例<code>test_smoke_dut</code>，测试步骤如下所示：</p><ol><li><p>对 DUT 进行复位</p></li><li><p>向 FIFO 分别写入两个数据：</p><ol><li><p>给<code>we_i</code>置高，<code>data_i</code>赋值为<code>0x114</code>，保持一个周期，之后判断<code>empty_o</code>和<code>full_o</code>是否为 0</p></li><li><p>给<code>we_i</code>置高，<code>data_i</code>赋值为<code>0x514</code>，保持一个周期</p></li></ol></li><li><p>从 FIFO 读出两个数据：</p><ol><li><p>给<code>we_i</code>置低、<code>re_i</code>置高，保持一个周期，之后读取<code>data_o</code>，判断结果是否为<code>0x114</code></p></li><li><p>给<code>we_i</code>置低、<code>re_i</code>置高，保持一个周期，之后读取<code>data_o</code>，判断结果是否为<code>0x514</code>、<code>empty_o</code>是否为 1</p></li></ol></li></ol><p>然后运行测试用例，验证 DUT 能否通过测试。</p></div></div></div></div><script src=/js/bootstrap.min.js></script><script src=/js/jquery.min.js></script><script src=/js/isotope.pkgd.min.js></script><script src=/js/masonry.pkgd.min.js async></script><script src=/js/dark.js></script><script>var savedTheme=localStorage.getItem("dark-mode-storage")||"light";setTheme(savedTheme)</script><script src=/js/isotope.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></body></html>