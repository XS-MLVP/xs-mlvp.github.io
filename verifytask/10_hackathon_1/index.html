<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><script async src="https://www.googletagmanager.com/gtag/js?id=G-4Z2ZY6ZE84"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4Z2ZY6ZE84")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?6aacb1c7ca0a3ef4e3aa84c1eaa237dd",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700;800&family=Frank+Ruhl+Libre:wght@200;300;400;500;600&family=Encode+Sans+Semi+Condensed:wght@400&display=swap" rel=stylesheet><link rel=stylesheet type=text/css href=/css/bootstrap.min.css><link rel=stylesheet type=text/css href=/css/all.min.css><link disabled id=dark-mode-theme rel=stylesheet href=/css/dark.css><link rel=stylesheet type=text/css href=/css/style.css><link rel=stylesheet type=text/css href=/css/my_style.css><title>万众一芯开放验证 | 万众一芯黑客马拉松第一期：热身赛题(进行中)</title>
<meta name=description content="用UCAgent验证参与黑客松，实战赢奖金"></head><body style=width:100%;max-width:100%;margin:0;padding:0><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class="d-flex justify-content-between align-items-center" style=width:100%><div class="d-flex align-items-center"><a class="navbar-brand navbar-brand-content" href=https://open-verify.cc/cn><img src=/images/logo.png></a><div class="collapse navbar-collapse" id=navbarNavDropdown><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class=nav-link href=/registration_portal/>报名入口汇总</a></li><li class=nav-item><a class=nav-link href=/learningresource/>学习资源</a></li><li class=nav-item><a class=nav-link href=/about/>关于我们</a></li></ul></div></div><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarNavDropdown aria-controls=navbarNavDropdown aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" style=flex:1><ul class="navbar-nav ms-auto mt-2 mt-lg-0"><li class=nav-item><a class="btn fas fa-moon" id=dark-mode-toggle></a></li></ul></div></div></nav><div id=content><div class=container><div class="py-4 rounded-3"><div class="container-fluid py-2"><h1 class="display-2 mb-4 text-center">万众一芯黑客马拉松第一期：热身赛题(进行中)</h1></div><p class="text-center fs-4 fst-italic serif">用UCAgent验证参与黑客松，实战赢奖金</p><div class="text-center pt-4"></div></div><div class="row justify-content-center mb-5"><div class=col-12><p class="card-date m-0">Created Nov 18, 2025 -
Last updated: Nov 18, 2025</p><hr class=dropdown-divider><div class="row justify-content-between"><div class=col-sm-4></div><div class=col-sm-8 style=text-align:right></div></div></div></div><div class="container-fluid py-2 content"><div class="serif main-content"><h2 id=赛题简介>赛题简介</h2><p>本次黑客马拉松以“AI驱动开源芯片验证”为主题，聚焦基于大语言模型的硬件验证智能体UCAgent的实际应用。各位将在限定时间内，利用UCAgent人机协同进行模块验证，分析生成file case，找出题目当中的BUG/提升token效率。希望让大家能体验到使用 UCAgent 工具在开源验证中的便利，同时作为开发者参与到开源芯片验证的生态当中。</p><p>本次黑客马拉松比赛分为两个排名赛道，<strong>找bug赛道</strong>和<strong>token效率赛道</strong></p><p>本期赛题均选自香山昆明湖架构的YunSuan运算功能单元三个向量计算模块：向量浮点融合乘加器、向量浮点加法器和向量整数除法器。每个模块含有五道题，分为<strong>1、2题为简单难度；3题为中等难度；4、5题困难难度</strong>，每道题包含1个bug，共15道题。各组需要<strong>至少找到一共5个Bug</strong>才能获得排名资格。</p><p>这里给出三个模块供各位参赛者熟悉UCAgent验证流程：
<a href=/hackathon/VectorFMA.v>VectorFMA无bug版本</a>
<a href=/hackathon/VectorFAdd.v>VectorFAdd无bug版本</a>
<a href=/hackathon/VectorIdiv.v>VectorIdiv无bug版本</a></p><h2 id=yunsuan介绍>YunSuan介绍</h2><p>YunSuan模块是开源高性能RISC-V处理器项目XiangShan（香山）的核心组成部分，专门负责实现处理器的各种算术和逻辑运算功能，包括整数运算单元、浮点运算单元、向量处理单元等。YunSuan模块与XiangShan处理器的流水线紧密集成，为RISC-V指令集提供完整的运算支持。</p><h2 id=热身赛题>热身赛题</h2><p>VectorIdiv第一道题：<a href=/hackathon/VectorIdiv_BUG1.v>VectorIdiv_BUG1.v</a></p><p><strong>下面将以VectorIdiv模块的第一道题为例展示完成一个找BUG的全流程：</strong></p><p>VectorIdiv 是一个支持多种数据位宽的向量整数除法器模块。它通过并行实例化多个不同位宽的除法子模块来处理向量数据，采用状态机控制除法流程，最终输出商、余数向量和除零标志。该设计实现了高效的向量化整数除法运算。</p><h3 id=ucagent下载与初始化>UCAgent下载与初始化</h3><p>在对UCAgent进行下载后，通过 <code>make init </code>完成环境配置，在 <code>UCAgent/examples </code>文件夹下创建 <code>VectorIdiv </code>文件夹，放入题目1给出的verilog文件，并用Spec链接完成README.md文件的编写，最后通过 <code>make init_VectorIdiv </code>完成UCAgent的初始化。</p><h3 id=ucagent使用>UCAgent使用</h3><p>UCAgent提供了两种方式与LLM进行交互。一种通过标准化API与大语言模型进行直接交互，另一种则是通过MCP协议与通用Code Agent进行深度协同。<strong>（需要注意的是，token效率赛道需要使用API模式，并对UCAgent进行自定义配置，从而达到更好的效率）</strong></p><p>以MCP模式为例，通过 <code>make mcp_VectorIdiv </code>即可启动该模式的tui界面。然后在 <code>UCAgent/output</code>文件夹下，在所用Code Agent的CLI界面中输入提示词:</p><blockquote><p>请通过工具RoleInfo获取你的角色信息和基本指导，然后完成任务。请使用工具ReadTextFile读取文件。你需要在当前工作目录进行文件操作，不要超出该目录。</p></blockquote><p>即可开启验证。</p><p>若Code Agent中途中断，可输入:</p><blockquote><p>继续，请通过工具Check和Complete判断是否完成所有任务</p></blockquote><p>提示词继续验证。</p><p>验证生成的文件可在 <code>output </code>文件夹中查看。</p><h3 id=找bug1d_zero标记位未被设置为高电平状态>找BUG1：d_zero标记位未被设置为高电平状态</h3><p>在 <code>VectorIdiv_bug_analysis.md </code>文档中给出了本次验证所跑出的所有bug，并给出了详细的bug分析：</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>## VectorIdiv 缺陷分析
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>### 边界与异常处理
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#111>&lt;</span><span style=color:#f92672>FG-BOUNDARY_EXCEPTION</span><span style=color:#111>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>#### 边界值测试: &lt;FC-BOUNDARY&gt;
</span></span><span style=display:flex><span><span style=color:#00a8c8>-</span> <span style=color:#111>&lt;</span><span style=color:#f92672>CK-DIV_BY_NEG_ONE</span><span style=color:#111>&gt;</span> 检测点：有符号数除以-1
</span></span><span style=display:flex><span>  <span style=color:#00a8c8>-</span> <span style=color:#111>&lt;</span><span style=color:#f92672>BG-DIV_BY_NEG_ONE-0</span><span style=color:#111>&gt;</span> 当一个有符号数的最小负值（例如，对于8位整数是-128）除以-1时，预期的结果应该是该数的绝对值（128），但这超出了8位有符号数的表示范围（-128到127）。根据RISC-V向量规范，这种情况下商应保持为被除数（-128），余数应为0。然而，DUT的实现似乎未能正确处理此溢出情况。
</span></span><span style=display:flex><span>    <span style=color:#00a8c8>-</span> <span style=color:#111>&lt;</span><span style=color:#f92672>TC-test_VectorIdiv_templates.py::test_boundary_conditions</span><span style=color:#111>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#00a8c8>-</span> **根因分析**:
</span></span><span style=display:flex><span>    在 <span style=color:#d88200>`VectorIdiv_BUG1.v`</span> 的 <span style=color:#d88200>`I8DivNr4`</span> 模块中，对于商的计算没有特殊处理溢出情况。
</span></span><span style=display:flex><span>    ``<span style=color:#d88200>`verilog
</span></span></span><span style=display:flex><span><span style=color:#d88200>    // VectorIdiv_BUG1.v
</span></span></span><span style=display:flex><span><span style=color:#d88200>    150: assign io_div_out_q = Lkm7UANb3k7urrE;
</span></span></span><span style=display:flex><span><span style=color:#d88200>    `</span>`<span style=color:#d88200>`
</span></span></span><span style=display:flex><span><span style=color:#d88200>    `</span>Lkm7UANb3k7urrE<span style=color:#d88200>` 的计算逻辑未能考虑到 `</span>-128 / -1<span style=color:#d88200>` 的溢出。
</span></span></span><span style=display:flex><span><span style=color:#d88200>  - **修复建议**:
</span></span></span><span style=display:flex><span><span style=color:#d88200>    应在计算商的逻辑中增加一个检查，如果是有符号运算且除数为-1，并且被除数是最小负值，则商应等于被除数本身。
</span></span></span><span style=display:flex><span><span style=color:#d88200>
</span></span></span><span style=display:flex><span><span style=color:#d88200>#### 异常处理: &lt;FC-EXCEPTION&gt;
</span></span></span><span style=display:flex><span><span style=color:#d88200>- &lt;CK-DIV_BY_ZERO&gt; 检测点：除零异常
</span></span></span><span style=display:flex><span><span style=color:#d88200>  - &lt;BG-DIV_BY_ZERO-0&gt; 当除数为零时，DUT应产生一个除零异常。根据 `</span>VectorIdiv_function_coverage_def.py<span style=color:#d88200>` 中的定义，这要求 `</span>io_d_zero<span style=color:#d88200>` 信号不为零。然而，在测试中发现，即使除数为零，`</span>io_d_zero<span style=color:#d88200>` 信号仍然为零，表明异常没有被正确触发。
</span></span></span><span style=display:flex><span><span style=color:#d88200>    - &lt;TC-test_VectorIdiv_templates.py::test_boundary_conditions&gt;
</span></span></span><span style=display:flex><span><span style=color:#d88200>  - **根因分析**:
</span></span></span><span style=display:flex><span><span style=color:#d88200>    在 `</span>VectorIdiv_BUG1.v<span style=color:#d88200>` 的 `</span>I8DivNr4<span style=color:#d88200>` 模块中，`</span>YOzhvk<span style=color:#d88200>` 信号正确地识别了除数为零的情况 (`</span>bO1Bf == 8&#39;h0<span style=color:#d88200>`)。但是，这个状态没有被用来驱动 `</span>io_d_zero<span style=color:#d88200>` 输出。
</span></span></span><span style=display:flex><span><span style=color:#d88200>    `</span>`<span style=color:#d88200>`verilog
</span></span></span><span style=display:flex><span><span style=color:#d88200>    // VectorIdiv_BUG1.v
</span></span></span><span style=display:flex><span><span style=color:#d88200>    90: wire       YOzhvk = bO1Bf == 8&#39;h0;
</span></span></span><span style=display:flex><span><span style=color:#d88200>    `</span>`<span style=color:#d88200>`
</span></span></span><span style=display:flex><span><span style=color:#d88200>    `</span>io_d_zero<span style=color:#d88200>` 信号没有在 `</span>I8DivNr4<span style=color:#d88200>` 模块中被赋值，因此它保持默认值0。
</span></span></span><span style=display:flex><span><span style=color:#d88200>  - **修复建议**:
</span></span></span><span style=display:flex><span><span style=color:#d88200>    应将 `</span>YOzhvk<span style=color:#d88200>` 信号连接到 `</span>io_d_zero<span style=color:#d88200>` 输出，或者使用 `</span>YOzhvk<span style=color:#d88200>` 来设置一个在除零时会置位的寄存器，并最终驱动 `</span>io_d_zero`。
</span></span></code></pre></div><p>由于bug中包含假阳性bug，即测试用例不符合要求等原因导致的非源码类报错，因此需要通过阅读文档分析file case，结合，分析出真正的bug：</p><p>第一个bug由于-128除以-1得到的128超出了RISC-V向量规范导致的报错，并非源码类bug，因此忽略。</p><p>第二个bug经过复查可以发现为io_d_zero信号本身的问题。</p><p>因此我们可以发现本次bug为io_d_zero标记位未被设置为高电平状态，即除数为0时，io_d_zero未被设置为高电平状态。</p><h3 id=结果提交>结果提交</h3><p>在找到了Bug后，参赛小组需要给出：</p><ol><li><p>Bug文档：说明Bug的除法原因与分析，包括该Bug所在Spec链接当中的章节与行数；</p></li><li><p>触发 Bug 的波形文件</p></li></ol><p>将以上文件进行打包上传，提交到指定平台。</p><h2 id=热身学习资源>热身学习资源</h2><p><strong>SPEC链接：</strong></p><p><a href=https://docs.riscv.org/reference/isa/unpriv/v-st-ext.html#vector-integer-divide-instructions>向量整数除法指令</a></p><p><a href=https://docs.riscv.org/reference/isa/unpriv/v-st-ext.html#sec-vector-float>向量浮点指令</a></p><p><strong>UCAgent链接：<a href=https://github.com/XS-MLVP/UCAgent>https://github.com/XS-MLVP/UCAgent</a></strong></p><p><strong>UCAgent使用手册：<a href=https://open-verify.cc/mlvp/docs/ucagent>https://open-verify.cc/mlvp/docs/ucagent</a></strong></p></div></div></div></div><script src=/js/bootstrap.min.js></script><script src=/js/jquery.min.js></script><script src=/js/isotope.pkgd.min.js></script><script src=/js/masonry.pkgd.min.js async></script><script src=/js/dark.js></script><script>var savedTheme=localStorage.getItem("dark-mode-storage")||"light";setTheme(savedTheme)</script><script src=/js/isotope.js></script><script src=/js/mermaid.min.js></script><script>mermaid.initialize({startOnLoad:!0,securityLevel:"loose"})</script></body></html>